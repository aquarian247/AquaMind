#### 4.7 Broodstock Management (broodstock app)

The Broodstock Management app's data model represents a comprehensive redesign that addresses the operational requirements identified in gap analyses while transitioning from JSON-based storage to structured column data for improved performance, data integrity, and query capabilities. The enhanced data model supports the complete spectrum of hatchery operations including individual fish tracking, hierarchical container organization, comprehensive spawning workflows, daily nursery operations, environmental monitoring integration, and advanced reporting capabilities. The design maintains compatibility with existing AquaMind infrastructure while introducing specialized models that address the unique requirements of broodstock management operations.

The data model architecture emphasizes normalized table structures that replace JSON field dependencies with properly typed columns, foreign key relationships, and database-level constraints. This approach provides significant advantages in terms of query performance, data validation, referential integrity, and reporting capabilities while maintaining the flexibility required for diverse operational scenarios. The model integrates seamlessly with existing AquaMind applications including infrastructure, environmental, health, and batch management while providing the specialized functionality required for comprehensive broodstock operations.

**Enhanced Infrastructure Models**

The foundation of the broodstock data model builds upon and extends AquaMind's existing infrastructure models to support the hierarchical organization and specialized requirements of hatchery operations.

- **infrastructure_container** (Enhanced for Nested Hierarchy)  
  - `container_id` (PK, AutoField): Unique identifier for the container.  
  - `container_code` (CharField, max_length=50, unique): Human-readable container identifier (e.g., "ST-A-01-T-15").  
  - `name` (CharField, max_length=100): Descriptive name for the container.  
  - `parent_container_id` (FK, nullable): Self-referencing foreign key to support nested container hierarchies (trays within stands, tanks within systems).  
  - `containertype_id` (FK): Link to `infrastructure_containertype` defining the container's purpose and capabilities.  
  - `hall_id` (FK, nullable): Link to `infrastructure_hall` for containers directly within halls.  
  - `area_id` (FK, nullable): Link to `infrastructure_area` for containers directly within areas.  
  - `location_description` (CharField, max_length=200): Detailed physical location description.  
  - `capacity_fish_count` (PositiveIntegerField, nullable): Maximum fish capacity for broodstock containers.  
  - `capacity_egg_count` (PositiveIntegerField, nullable): Maximum egg capacity for incubation containers.  
  - `capacity_volume_liters` (DecimalField, max_digits=10, decimal_places=2, nullable): Volume capacity in liters.  
  - `status` (CharField, max_length=20, choices=[("active", "Active"), ("maintenance", "Under Maintenance"), ("quarantine", "Quarantine"), ("inactive", "Inactive"), ("cleaning", "Cleaning")]): Current operational status.  
  - `installation_date` (DateField, nullable): Date the container was installed or commissioned.  
  - `last_maintenance_date` (DateField, nullable): Date of most recent maintenance activity.  
  - `next_maintenance_due` (DateField, nullable): Scheduled date for next maintenance.  
  - `notes` (TextField, blank=True): Additional notes and observations.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.  
  - `created_by` (FK): Link to `auth_user` who created the record.  
  - `updated_by` (FK): Link to `auth_user` who last modified the record.

- **infrastructure_containertype** (Enhanced for Broodstock Operations)  
  - `containertype_id` (PK, AutoField): Unique identifier for the container type.  
  - `name` (CharField, max_length=50, unique): Container type name (e.g., "Broodstock Tank", "Incubation Tray", "Hatching Stand").  
  - `category` (CharField, max_length=30, choices=[("broodstock", "Broodstock"), ("incubation", "Incubation"), ("hatching", "Hatching"), ("nursery", "Nursery"), ("general", "General")]): Functional category.  
  - `supports_nesting` (BooleanField, default=False): Whether this container type can contain other containers.  
  - `supports_fish` (BooleanField, default=True): Whether this container type can hold live fish.  
  - `supports_eggs` (BooleanField, default=False): Whether this container type can hold eggs.  
  - `default_capacity_fish` (PositiveIntegerField, nullable): Default fish capacity for this type.  
  - `default_capacity_eggs` (PositiveIntegerField, nullable): Default egg capacity for this type.  
  - `default_volume_liters` (DecimalField, max_digits=10, decimal_places=2, nullable): Default volume capacity.  
  - `environmental_monitoring_required` (BooleanField, default=True): Whether environmental monitoring is required.  
  - `maintenance_interval_days` (PositiveIntegerField, default=30): Default maintenance interval in days.  
  - `description` (TextField, blank=True): Detailed description of the container type and its intended use.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

**Individual Fish Management Models**

The individual fish management models provide comprehensive tracking capabilities for broodstock populations with structured data fields replacing JSON-based storage.

- **BroodstockFish** (Enhanced with Structured Traits)  
  - `fish_id` (PK, AutoField): Unique identifier for the individual fish.  
  - `fish_code` (CharField, max_length=50, unique): Human-readable fish identifier.  
  - `pit_tag_number` (CharField, max_length=20, unique, nullable): PIT tag identifier if applicable.  
  - `visual_tag_number` (CharField, max_length=20, nullable): Visual tag identifier if applicable.  
  - `container_id` (FK): Current container assignment linking to `infrastructure_container`.  
  - `sex` (CharField, max_length=10, choices=[("male", "Male"), ("female", "Female"), ("unknown", "Unknown")]): Fish sex determination.  
  - `origin_batch_id` (FK, nullable): Link to `batch_batch` if fish originated from a tracked batch.  
  - `acquisition_date` (DateField): Date the fish was acquired or first recorded.  
  - `acquisition_source` (CharField, max_length=100): Source of acquisition (e.g., "Internal Breeding", "External Supplier").  
  - `current_length_cm` (DecimalField, max_digits=6, decimal_places=2, nullable): Most recent length measurement.  
  - `current_weight_g` (DecimalField, max_digits=8, decimal_places=2, nullable): Most recent weight measurement.  
  - `condition_factor` (DecimalField, max_digits=5, decimal_places=3, nullable): Calculated Fulton's condition factor.  
  - `growth_rate_category` (CharField, max_length=20, choices=[("slow", "Slow"), ("average", "Average"), ("fast", "Fast"), ("exceptional", "Exceptional")]): Growth performance classification.  
  - `size_category` (CharField, max_length=20, choices=[("small", "Small"), ("medium", "Medium"), ("large", "Large"), ("extra_large", "Extra Large")]): Size classification.  
  - `health_status` (CharField, max_length=20, choices=[("healthy", "Healthy"), ("monitored", "Under Monitoring"), ("treated", "Under Treatment"), ("quarantined", "Quarantined"), ("deceased", "Deceased")]): Current health status.  
  - `breeding_status` (CharField, max_length=20, choices=[("available", "Available"), ("assigned", "Assigned to Breeding"), ("spawning", "Currently Spawning"), ("resting", "Post-Spawn Rest"), ("retired", "Retired from Breeding")]): Breeding availability status.  
  - `genetic_line` (CharField, max_length=50, nullable): Genetic line or strain identifier.  
  - `generation_number` (PositiveIntegerField, nullable): Generation number in breeding program.  
  - `inbreeding_coefficient` (DecimalField, max_digits=5, decimal_places=4, nullable): Calculated inbreeding coefficient.  
  - `breeding_value_growth` (DecimalField, max_digits=8, decimal_places=4, nullable): Estimated breeding value for growth.  
  - `breeding_value_disease_resistance` (DecimalField, max_digits=8, decimal_places=4, nullable): Estimated breeding value for disease resistance.  
  - `breeding_value_fertility` (DecimalField, max_digits=8, decimal_places=4, nullable): Estimated breeding value for fertility.  
  - `last_spawning_date` (DateField, nullable): Date of most recent spawning activity.  
  - `total_spawning_events` (PositiveIntegerField, default=0): Total number of spawning events.  
  - `total_offspring_produced` (PositiveIntegerField, default=0): Total number of offspring produced.  
  - `notes` (TextField, blank=True): Additional notes and observations.  
  - `is_active` (BooleanField, default=True): Whether the fish is currently active in the system.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.  
  - `created_by` (FK): Link to `auth_user` who created the record.  
  - `updated_by` (FK): Link to `auth_user` who last modified the record.

- **FishTraitMeasurement** (New Model for Detailed Trait Tracking)  
  - `measurement_id` (PK, AutoField): Unique identifier for the measurement.  
  - `fish_id` (FK): Link to `BroodstockFish`.  
  - `measurement_date` (DateField): Date the measurement was taken.  
  - `length_cm` (DecimalField, max_digits=6, decimal_places=2, nullable): Length measurement.  
  - `weight_g` (DecimalField, max_digits=8, decimal_places=2, nullable): Weight measurement.  
  - `condition_factor` (DecimalField, max_digits=5, decimal_places=3, nullable): Calculated condition factor.  
  - `fin_condition_score` (PositiveIntegerField, nullable): Fin condition assessment (1-5 scale).  
  - `skin_condition_score` (PositiveIntegerField, nullable): Skin condition assessment (1-5 scale).  
  - `eye_condition_score` (PositiveIntegerField, nullable): Eye condition assessment (1-5 scale).  
  - `overall_health_score` (PositiveIntegerField, nullable): Overall health assessment (1-5 scale).  
  - `color_intensity` (CharField, max_length=20, choices=[("pale", "Pale"), ("normal", "Normal"), ("intense", "Intense"), ("exceptional", "Exceptional")], nullable): Color intensity assessment.  
  - `fat_content_category` (CharField, max_length=20, choices=[("low", "Low"), ("normal", "Normal"), ("high", "High")], nullable): Fat content assessment.  
  - `muscle_firmness` (CharField, max_length=20, choices=[("soft", "Soft"), ("normal", "Normal"), ("firm", "Firm")], nullable): Muscle firmness assessment.  
  - `measured_by` (FK): Link to `auth_user` who performed the measurement.  
  - `notes` (TextField, blank=True): Additional measurement notes.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.

- **FishMovement** (Enhanced Movement Tracking)  
  - `movement_id` (PK, AutoField): Unique identifier for the movement.  
  - `fish_id` (FK): Link to `BroodstockFish`.  
  - `from_container_id` (FK): Source container linking to `infrastructure_container`.  
  - `to_container_id` (FK): Destination container linking to `infrastructure_container`.  
  - `movement_date` (DateTimeField): Date and time of movement.  
  - `movement_reason` (CharField, max_length=50, choices=[("breeding", "Breeding Assignment"), ("health", "Health Management"), ("maintenance", "Container Maintenance"), ("optimization", "Space Optimization"), ("quarantine", "Quarantine"), ("other", "Other")]): Reason for movement.  
  - `movement_type` (CharField, max_length=30, choices=[("individual", "Individual Fish"), ("group", "Group Movement"), ("emergency", "Emergency Transfer")]): Type of movement.  
  - `fish_condition_before` (CharField, max_length=20, choices=[("excellent", "Excellent"), ("good", "Good"), ("fair", "Fair"), ("poor", "Poor")]): Fish condition before movement.  
  - `fish_condition_after` (CharField, max_length=20, choices=[("excellent", "Excellent"), ("good", "Good"), ("fair", "Fair"), ("poor", "Poor")]): Fish condition after movement.  
  - `moved_by` (FK): Link to `auth_user` who performed the movement.  
  - `approved_by` (FK, nullable): Link to `auth_user` who approved the movement if required.  
  - `notes` (TextField, blank=True): Movement notes and observations.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.

**Breeding Program Management Models**

The breeding program management models provide comprehensive support for genetic improvement programs with structured data fields for trait management and breeding optimization.

- **BreedingProgram** (New Model for Program Management)  
  - `program_id` (PK, AutoField): Unique identifier for the breeding program.  
  - `program_name` (CharField, max_length=100, unique): Name of the breeding program.  
  - `program_code` (CharField, max_length=20, unique): Short code for the program.  
  - `start_date` (DateField): Program start date.  
  - `end_date` (DateField, nullable): Program end date if applicable.  
  - `primary_objective` (CharField, max_length=50, choices=[("growth", "Growth Rate"), ("disease_resistance", "Disease Resistance"), ("fertility", "Fertility"), ("quality", "Flesh Quality"), ("combined", "Combined Traits")]): Primary breeding objective.  
  - `target_generation` (PositiveIntegerField): Target generation number for the program.  
  - `current_generation` (PositiveIntegerField, default=1): Current generation number.  
  - `selection_intensity` (DecimalField, max_digits=4, decimal_places=2): Selection intensity percentage.  
  - `minimum_breeding_age_months` (PositiveIntegerField): Minimum breeding age in months.  
  - `maximum_breeding_age_months` (PositiveIntegerField): Maximum breeding age in months.  
  - `inbreeding_threshold` (DecimalField, max_digits=5, decimal_places=4): Maximum allowable inbreeding coefficient.  
  - `program_manager` (FK): Link to `auth_user` responsible for the program.  
  - `is_active` (BooleanField, default=True): Whether the program is currently active.  
  - `description` (TextField, blank=True): Detailed program description and objectives.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

- **BreedingPlan** (Enhanced Planning Model)  
  - `plan_id` (PK, AutoField): Unique identifier for the breeding plan.  
  - `program_id` (FK): Link to `BreedingProgram`.  
  - `plan_name` (CharField, max_length=100): Name of the breeding plan.  
  - `plan_year` (PositiveIntegerField): Year for which the plan is designed.  
  - `generation_number` (PositiveIntegerField): Generation number for this plan.  
  - `start_date` (DateField): Plan start date.  
  - `end_date` (DateField): Plan end date.  
  - `target_spawning_events` (PositiveIntegerField): Target number of spawning events.  
  - `target_egg_production` (PositiveIntegerField): Target total egg production.  
  - `target_families` (PositiveIntegerField): Target number of families to create.  
  - `selection_criteria` (TextField): Detailed selection criteria and methodology.  
  - `plan_status` (CharField, max_length=20, choices=[("draft", "Draft"), ("approved", "Approved"), ("active", "Active"), ("completed", "Completed"), ("cancelled", "Cancelled")]): Current plan status.  
  - `approved_by` (FK, nullable): Link to `auth_user` who approved the plan.  
  - `approval_date` (DateField, nullable): Date the plan was approved.  
  - `created_by` (FK): Link to `auth_user` who created the plan.  
  - `notes` (TextField, blank=True): Additional plan notes and considerations.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

- **BreedingTraitPriority** (Enhanced Trait Management)  
  - `priority_id` (PK, AutoField): Unique identifier for the trait priority.  
  - `plan_id` (FK): Link to `BreedingPlan`.  
  - `trait_name` (CharField, max_length=50, choices=[("growth_rate", "Growth Rate"), ("disease_resistance", "Disease Resistance"), ("fertility", "Fertility"), ("flesh_quality", "Flesh Quality"), ("color_intensity", "Color Intensity"), ("fat_content", "Fat Content"), ("muscle_firmness", "Muscle Firmness"), ("survival_rate", "Survival Rate")]): Trait identifier.  
  - `priority_weight` (DecimalField, max_digits=5, decimal_places=4): Weight assigned to this trait (0.0000-1.0000).  
  - `selection_direction` (CharField, max_length=20, choices=[("increase", "Increase"), ("decrease", "Decrease"), ("optimize", "Optimize"), ("maintain", "Maintain")]): Desired selection direction.  
  - `minimum_threshold` (DecimalField, max_digits=10, decimal_places=4, nullable): Minimum acceptable value for this trait.  
  - `target_value` (DecimalField, max_digits=10, decimal_places=4, nullable): Target value for this trait.  
  - `measurement_unit` (CharField, max_length=20): Unit of measurement for the trait.  
  - `heritability_estimate` (DecimalField, max_digits=4, decimal_places=3, nullable): Estimated heritability for this trait.  
  - `genetic_correlation_growth` (DecimalField, max_digits=5, decimal_places=4, nullable): Genetic correlation with growth rate.  
  - `genetic_correlation_disease` (DecimalField, max_digits=5, decimal_places=4, nullable): Genetic correlation with disease resistance.  
  - `notes` (TextField, blank=True): Additional notes about trait selection criteria.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

- **BreedingPair** (Enhanced Pair Management)  
  - `pair_id` (PK, AutoField): Unique identifier for the breeding pair.  
  - `plan_id` (FK): Link to `BreedingPlan`.  
  - `pair_code` (CharField, max_length=30, unique): Human-readable pair identifier.  
  - `male_fish_id` (FK): Link to male `BroodstockFish`.  
  - `female_fish_id` (FK): Link to female `BroodstockFish`.  
  - `pairing_date` (DateField): Date the pair was assigned.  
  - `expected_spawning_date` (DateField, nullable): Expected spawning date.  
  - `actual_spawning_date` (DateField, nullable): Actual spawning date.  
  - `pair_status` (CharField, max_length=20, choices=[("assigned", "Assigned"), ("conditioning", "Conditioning"), ("ready", "Ready to Spawn"), ("spawning", "Spawning"), ("completed", "Completed"), ("cancelled", "Cancelled")]): Current pair status.  
  - `genetic_compatibility_score` (DecimalField, max_digits=5, decimal_places=4, nullable): Calculated genetic compatibility score.  
  - `predicted_breeding_value` (DecimalField, max_digits=8, decimal_places=4, nullable): Predicted breeding value for offspring.  
  - `inbreeding_coefficient` (DecimalField, max_digits=5, decimal_places=4, nullable): Calculated inbreeding coefficient for potential offspring.  
  - `priority_ranking` (PositiveIntegerField, nullable): Priority ranking within the breeding plan.  
  - `conditioning_start_date` (DateField, nullable): Date conditioning began.  
  - `conditioning_protocol` (CharField, max_length=100, nullable): Conditioning protocol applied.  
  - `spawning_location` (FK, nullable): Link to `infrastructure_container` where spawning will occur.  
  - `assigned_by` (FK): Link to `auth_user` who assigned the pair.  
  - `notes` (TextField, blank=True): Additional pair notes and observations.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

**Spawning and Egg Management Models**

The spawning and egg management models provide comprehensive tracking for the complete spawning process with detailed quality assessment and traceability capabilities.

- **SpawningEvent** (New Comprehensive Spawning Model)  
  - `spawning_id` (PK, AutoField): Unique identifier for the spawning event.  
  - `pair_id` (FK): Link to `BreedingPair`.  
  - `spawning_code` (CharField, max_length=30, unique): Human-readable spawning identifier.  
  - `spawning_date` (DateField): Date of spawning.  
  - `spawning_time` (TimeField, nullable): Time of spawning if recorded.  
  - `spawning_method` (CharField, max_length=30, choices=[("natural", "Natural Spawning"), ("strip_spawn", "Strip Spawning"), ("artificial", "Artificial Fertilization")]): Spawning method used.  
  - `spawning_location` (FK): Link to `infrastructure_container` where spawning occurred.  
  - `water_temperature_c` (DecimalField, max_digits=4, decimal_places=1, nullable): Water temperature during spawning.  
  - `dissolved_oxygen_ppm` (DecimalField, max_digits=5, decimal_places=2, nullable): Dissolved oxygen level during spawning.  
  - `ph_level` (DecimalField, max_digits=4, decimal_places=2, nullable): pH level during spawning.  
  - `male_condition_score` (PositiveIntegerField, nullable): Male fish condition score (1-5).  
  - `female_condition_score` (PositiveIntegerField, nullable): Female fish condition score (1-5).  
  - `milt_quality_score` (PositiveIntegerField, nullable): Milt quality assessment (1-5).  
  - `egg_quality_score` (PositiveIntegerField, nullable): Egg quality assessment (1-5).  
  - `fertilization_method` (CharField, max_length=30, choices=[("dry", "Dry Fertilization"), ("wet", "Wet Fertilization"), ("semi_dry", "Semi-Dry Fertilization")]): Fertilization method used.  
  - `fertilization_success_estimated` (DecimalField, max_digits=5, decimal_places=2, nullable): Estimated fertilization success percentage.  
  - `spawning_technician` (FK): Link to `auth_user` who performed the spawning.  
  - `quality_assessor` (FK, nullable): Link to `auth_user` who assessed quality.  
  - `spawning_notes` (TextField, blank=True): Detailed spawning notes and observations.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

- **EggProduction** (Enhanced Egg Tracking)  
  - `egg_production_id` (PK, AutoField): Unique identifier for the egg production.  
  - `spawning_id` (FK, nullable): Link to `SpawningEvent` for internal production.  
  - `egg_batch_code` (CharField, max_length=50, unique): Unique egg batch identifier.  
  - `production_type` (CharField, max_length=20, choices=[("internal", "Internal Production"), ("external", "External Acquisition")]): Source type.  
  - `production_date` (DateField): Date eggs were produced or acquired.  
  - `initial_egg_count` (PositiveIntegerField): Initial number of eggs.  
  - `eggs_per_liter` (DecimalField, max_digits=8, decimal_places=2, nullable): Egg density measurement.  
  - `estimated_volume_liters` (DecimalField, max_digits=8, decimal_places=2, nullable): Estimated total volume.  
  - `destination_container_id` (FK): Link to `infrastructure_container` where eggs are placed.  
  - `egg_size_category` (CharField, max_length=20, choices=[("small", "Small"), ("medium", "Medium"), ("large", "Large"), ("mixed", "Mixed Sizes")]): Egg size classification.  
  - `egg_color` (CharField, max_length=20, choices=[("pale", "Pale"), ("normal", "Normal"), ("dark", "Dark"), ("variable", "Variable")]): Egg color assessment.  
  - `initial_quality_score` (PositiveIntegerField, nullable): Initial quality assessment (1-5).  
  - `fertilization_rate_24h` (DecimalField, max_digits=5, decimal_places=2, nullable): Fertilization rate after 24 hours.  
  - `survival_rate_48h` (DecimalField, max_digits=5, decimal_places=2, nullable): Survival rate after 48 hours.  
  - `expected_hatch_date` (DateField, nullable): Expected hatching date.  
  - `degree_days_to_hatch` (PositiveIntegerField, nullable): Expected degree days to hatching.  
  - `incubation_temperature_target` (DecimalField, max_digits=4, decimal_places=1, nullable): Target incubation temperature.  
  - `quality_verified_date` (DateField, nullable): Date quality was verified.  
  - `quality_verified_by` (FK, nullable): Link to `auth_user` who verified quality.  
  - `production_notes` (TextField, blank=True): Detailed production notes.  
  - `is_active` (BooleanField, default=True): Whether the egg batch is currently active.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.  
  - `created_by` (FK): Link to `auth_user` who created the record.

- **EggSupplier** (Enhanced Supplier Management)  
  - `supplier_id` (PK, AutoField): Unique identifier for the supplier.  
  - `supplier_name` (CharField, max_length=100, unique): Supplier company name.  
  - `supplier_code` (CharField, max_length=20, unique): Short supplier code.  
  - `contact_person` (CharField, max_length=100): Primary contact person.  
  - `email_address` (EmailField): Primary email contact.  
  - `phone_number` (CharField, max_length=20): Primary phone contact.  
  - `address` (TextField): Complete supplier address.  
  - `country` (CharField, max_length=50): Supplier country.  
  - `certification_iso9001` (BooleanField, default=False): ISO 9001 certification status.  
  - `certification_bap` (BooleanField, default=False): BAP certification status.  
  - `certification_asc` (BooleanField, default=False): ASC certification status.  
  - `certification_other` (CharField, max_length=200, blank=True): Other certifications.  
  - `quality_rating` (PositiveIntegerField, nullable): Quality rating (1-5 scale).  
  - `reliability_rating` (PositiveIntegerField, nullable): Reliability rating (1-5 scale).  
  - `preferred_supplier` (BooleanField, default=False): Whether this is a preferred supplier.  
  - `contract_start_date` (DateField, nullable): Contract start date.  
  - `contract_end_date` (DateField, nullable): Contract end date.  
  - `payment_terms` (CharField, max_length=50, nullable): Payment terms.  
  - `delivery_terms` (CharField, max_length=50, nullable): Delivery terms.  
  - `is_active` (BooleanField, default=True): Whether the supplier is currently active.  
  - `notes` (TextField, blank=True): Additional supplier notes.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

- **ExternalEggBatch** (Enhanced External Egg Tracking)  
  - `external_batch_id` (PK, AutoField): Unique identifier for the external batch.  
  - `egg_production_id` (FK): Link to `EggProduction` record.  
  - `supplier_id` (FK): Link to `EggSupplier`.  
  - `supplier_batch_number` (CharField, max_length=50): Supplier's batch identifier.  
  - `purchase_order_number` (CharField, max_length=30, nullable): Purchase order reference.  
  - `acquisition_date` (DateField): Date eggs were acquired.  
  - `delivery_date` (DateField): Date eggs were delivered.  
  - `source_farm_name` (CharField, max_length=100, nullable): Name of source farm.  
  - `source_farm_location` (CharField, max_length=100, nullable): Location of source farm.  
  - `genetic_line` (CharField, max_length=50, nullable): Genetic line information.  
  - `generation_number` (PositiveIntegerField, nullable): Generation number.  
  - `parent_information` (TextField, blank=True): Available parent information.  
  - `transport_duration_hours` (PositiveIntegerField, nullable): Transport duration in hours.  
  - `transport_temperature_c` (DecimalField, max_digits=4, decimal_places=1, nullable): Transport temperature.  
  - `transport_conditions` (TextField, blank=True): Transport condition details.  
  - `health_certificate_number` (CharField, max_length=50, nullable): Health certificate reference.  
  - `health_certificate_date` (DateField, nullable): Health certificate date.  
  - `quarantine_required` (BooleanField, default=False): Whether quarantine is required.  
  - `quarantine_duration_days` (PositiveIntegerField, nullable): Quarantine duration if required.  
  - `cost_per_thousand` (DecimalField, max_digits=8, decimal_places=2, nullable): Cost per thousand eggs.  
  - `total_cost` (DecimalField, max_digits=10, decimal_places=2, nullable): Total acquisition cost.  
  - `currency` (CharField, max_length=3, default="EUR"): Currency for cost information.  
  - `received_by` (FK): Link to `auth_user` who received the shipment.  
  - `quality_inspection_by` (FK, nullable): Link to `auth_user` who performed quality inspection.  
  - `quality_inspection_notes` (TextField, blank=True): Quality inspection notes.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

**Nursery Operations Models**

The nursery operations models provide comprehensive support for daily hatchery management activities during the critical incubation and early development periods.

- **NurseryEvent** (Comprehensive Event Tracking)  
  - `event_id` (PK, AutoField): Unique identifier for the nursery event.  
  - `container_id` (FK): Link to `infrastructure_container` where event occurred.  
  - `egg_production_id` (FK, nullable): Link to `EggProduction` if applicable.  
  - `event_type` (CharField, max_length=30, choices=[("shocking", "Shocking"), ("picking", "Picking"), ("mortality", "Mortality Count"), ("culling", "Culling"), ("sampling", "Sampling"), ("treatment", "Treatment"), ("transfer", "Transfer"), ("environmental", "Environmental Adjustment")]): Type of event.  
  - `event_date` (DateField): Date of the event.  
  - `event_time` (TimeField, nullable): Time of the event if recorded.  
  - `quantity_affected` (PositiveIntegerField): Number of eggs/fish affected.  
  - `mortality_cause` (CharField, max_length=50, choices=[("unfertilized", "Unfertilized"), ("fungal", "Fungal Infection"), ("bacterial", "Bacterial Infection"), ("developmental", "Developmental Abnormality"), ("environmental", "Environmental Stress"), ("handling", "Handling Stress"), ("unknown", "Unknown"), ("other", "Other")], nullable): Cause of mortality if applicable.  
  - `removal_method` (CharField, max_length=30, choices=[("manual", "Manual Removal"), ("siphon", "Siphon"), ("net", "Net"), ("automated", "Automated System")], nullable): Method used for removal.  
  - `water_temperature_c` (DecimalField, max_digits=4, decimal_places=1, nullable): Water temperature during event.  
  - `dissolved_oxygen_ppm` (DecimalField, max_digits=5, decimal_places=2, nullable): Dissolved oxygen level during event.  
  - `ph_level` (DecimalField, max_digits=4, decimal_places=2, nullable): pH level during event.  
  - `flow_rate_lpm` (DecimalField, max_digits=6, decimal_places=2, nullable): Flow rate in liters per minute.  
  - `event_duration_minutes` (PositiveIntegerField, nullable): Duration of the event in minutes.  
  - `staff_time_minutes` (PositiveIntegerField, nullable): Staff time required in minutes.  
  - `equipment_used` (CharField, max_length=100, nullable): Equipment used for the event.  
  - `performed_by` (FK): Link to `auth_user` who performed the event.  
  - `supervised_by` (FK, nullable): Link to `auth_user` who supervised the event.  
  - `quality_assessment` (CharField, max_length=20, choices=[("excellent", "Excellent"), ("good", "Good"), ("fair", "Fair"), ("poor", "Poor")], nullable): Quality assessment after event.  
  - `follow_up_required` (BooleanField, default=False): Whether follow-up action is required.  
  - `follow_up_date` (DateField, nullable): Date for follow-up action.  
  - `event_notes` (TextField, blank=True): Detailed event notes and observations.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

- **ShockingEvent** (Specialized Shocking Operations)  
  - `shocking_id` (PK, AutoField): Unique identifier for the shocking event.  
  - `nursery_event_id` (FK): Link to parent `NurseryEvent`.  
  - `shocking_method` (CharField, max_length=30, choices=[("light_table", "Light Table"), ("candling", "Candling"), ("automated", "Automated System"), ("manual_inspection", "Manual Inspection")]): Shocking method used.  
  - `shocking_stage` (CharField, max_length=30, choices=[("initial", "Initial Shocking"), ("secondary", "Secondary Shocking"), ("final", "Final Shocking"), ("spot_check", "Spot Check")]): Stage of shocking process.  
  - `eggs_examined` (PositiveIntegerField): Total number of eggs examined.  
  - `unfertilized_removed` (PositiveIntegerField): Number of unfertilized eggs removed.  
  - `dead_removed` (PositiveIntegerField): Number of dead eggs removed.  
  - `abnormal_removed` (PositiveIntegerField): Number of abnormal eggs removed.  
  - `viable_remaining` (PositiveIntegerField): Number of viable eggs remaining.  
  - `fertilization_rate_calculated` (DecimalField, max_digits=5, decimal_places=2, nullable): Calculated fertilization rate.  
  - `survival_rate_calculated` (DecimalField, max_digits=5, decimal_places=2, nullable): Calculated survival rate.  
  - `development_stage` (CharField, max_length=30, choices=[("cleavage", "Cleavage"), ("blastula", "Blastula"), ("gastrula", "Gastrula"), ("neurula", "Neurula"), ("organogenesis", "Organogenesis"), ("pre_hatch", "Pre-Hatch")]): Development stage observed.  
  - `abnormality_types` (TextField, blank=True): Types of abnormalities observed.  
  - `shocking_efficiency` (DecimalField, max_digits=5, decimal_places=2, nullable): Efficiency of shocking process.  
  - `equipment_calibration_date` (DateField, nullable): Date equipment was last calibrated.  
  - `shocking_technician` (FK): Link to `auth_user` who performed shocking.  
  - `quality_controller` (FK, nullable): Link to `auth_user` who verified quality.  
  - `shocking_notes` (TextField, blank=True): Detailed shocking notes.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.

- **TreatmentEvent** (Treatment and Medication Tracking)  
  - `treatment_id` (PK, AutoField): Unique identifier for the treatment.  
  - `nursery_event_id` (FK): Link to parent `NurseryEvent`.  
  - `treatment_type` (CharField, max_length=30, choices=[("antifungal", "Antifungal"), ("antibacterial", "Antibacterial"), ("disinfectant", "Disinfectant"), ("vitamin", "Vitamin Supplement"), ("probiotic", "Probiotic"), ("other", "Other")]): Type of treatment.  
  - `medication_name` (CharField, max_length=100): Name of medication or treatment.  
  - `active_ingredient` (CharField, max_length=100, nullable): Active ingredient.  
  - `concentration` (DecimalField, max_digits=8, decimal_places=4, nullable): Concentration of active ingredient.  
  - `concentration_unit` (CharField, max_length=20, nullable): Unit for concentration.  
  - `dosage_amount` (DecimalField, max_digits=8, decimal_places=4): Dosage amount applied.  
  - `dosage_unit` (CharField, max_length=20): Unit for dosage.  
  - `application_method` (CharField, max_length=30, choices=[("bath", "Bath Treatment"), ("injection", "Injection"), ("oral", "Oral Administration"), ("topical", "Topical Application"), ("water_addition", "Water Addition")]): Application method.  
  - `treatment_duration_minutes` (PositiveIntegerField, nullable): Treatment duration in minutes.  
  - `water_volume_liters` (DecimalField, max_digits=8, decimal_places=2, nullable): Volume of water treated.  
  - `treatment_temperature_c` (DecimalField, max_digits=4, decimal_places=1, nullable): Water temperature during treatment.  
  - `withdrawal_period_days` (PositiveIntegerField, nullable): Withdrawal period in days.  
  - `prescription_number` (CharField, max_length=50, nullable): Prescription reference if applicable.  
  - `veterinarian` (FK, nullable): Link to `auth_user` veterinarian who prescribed treatment.  
  - `administered_by` (FK): Link to `auth_user` who administered treatment.  
  - `treatment_effectiveness` (CharField, max_length=20, choices=[("excellent", "Excellent"), ("good", "Good"), ("moderate", "Moderate"), ("poor", "Poor"), ("unknown", "Unknown")], nullable): Treatment effectiveness assessment.  
  - `side_effects_observed` (TextField, blank=True): Any side effects observed.  
  - `treatment_notes` (TextField, blank=True): Detailed treatment notes.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.

**Hatching and Lifecycle Transition Models**

The hatching and lifecycle transition models support the critical transition from eggs to live fish with comprehensive progress tracking and batch creation capabilities.

- **HatchingProgress** (Detailed Hatching Tracking)  
  - `hatching_id` (PK, AutoField): Unique identifier for hatching progress.  
  - `egg_production_id` (FK): Link to `EggProduction`.  
  - `container_id` (FK): Link to `infrastructure_container`.  
  - `observation_date` (DateField): Date of observation.  
  - `observation_time` (TimeField, nullable): Time of observation.  
  - `degree_days_accumulated` (DecimalField, max_digits=8, decimal_places=2): Accumulated degree days.  
  - `hatching_percentage` (DecimalField, max_digits=5, decimal_places=2): Percentage hatched.  
  - `hatching_stage` (CharField, max_length=30, choices=[("pre_hatch", "Pre-Hatch"), ("initial_hatch", "Initial Hatching"), ("peak_hatch", "Peak Hatching"), ("final_hatch", "Final Hatching"), ("post_hatch", "Post-Hatch")]): Current hatching stage.  
  - `viable_fry_count` (PositiveIntegerField, nullable): Count of viable fry.  
  - `deformed_fry_count` (PositiveIntegerField, nullable): Count of deformed fry.  
  - `dead_fry_count` (PositiveIntegerField, nullable): Count of dead fry.  
  - `unhatched_eggs` (PositiveIntegerField, nullable): Count of unhatched eggs.  
  - `water_temperature_c` (DecimalField, max_digits=4, decimal_places=1): Water temperature during observation.  
  - `dissolved_oxygen_ppm` (DecimalField, max_digits=5, decimal_places=2, nullable): Dissolved oxygen level.  
  - `ph_level` (DecimalField, max_digits=4, decimal_places=2, nullable): pH level.  
  - `flow_rate_lpm` (DecimalField, max_digits=6, decimal_places=2, nullable): Flow rate.  
  - `fry_activity_level` (CharField, max_length=20, choices=[("inactive", "Inactive"), ("low", "Low Activity"), ("normal", "Normal Activity"), ("high", "High Activity")]): Fry activity assessment.  
  - `yolk_sac_condition` (CharField, max_length=20, choices=[("full", "Full"), ("partial", "Partially Absorbed"), ("absorbed", "Fully Absorbed")]): Yolk sac condition.  
  - `swimming_behavior` (CharField, max_length=30, choices=[("none", "No Swimming"), ("weak", "Weak Swimming"), ("normal", "Normal Swimming"), ("strong", "Strong Swimming")]): Swimming behavior assessment.  
  - `observed_by` (FK): Link to `auth_user` who made the observation.  
  - `observation_notes` (TextField, blank=True): Detailed observation notes.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.

- **DegreeDayCalculation** (Thermal Development Tracking)  
  - `calculation_id` (PK, AutoField): Unique identifier for the calculation.  
  - `egg_production_id` (FK): Link to `EggProduction`.  
  - `container_id` (FK): Link to `infrastructure_container`.  
  - `calculation_date` (DateField): Date of calculation.  
  - `daily_average_temperature` (DecimalField, max_digits=4, decimal_places=1): Daily average temperature.  
  - `base_temperature` (DecimalField, max_digits=4, decimal_places=1, default=0.0): Base temperature for calculation.  
  - `degree_days_daily` (DecimalField, max_digits=6, decimal_places=2): Degree days for this day.  
  - `degree_days_cumulative` (DecimalField, max_digits=8, decimal_places=2): Cumulative degree days.  
  - `expected_hatch_days_remaining` (PositiveIntegerField, nullable): Estimated days to hatching.  
  - `development_stage_predicted` (CharField, max_length=30, choices=[("cleavage", "Cleavage"), ("blastula", "Blastula"), ("gastrula", "Gastrula"), ("neurula", "Neurula"), ("organogenesis", "Organogenesis"), ("pre_hatch", "Pre-Hatch"), ("hatching", "Hatching")]): Predicted development stage.  
  - `temperature_source` (CharField, max_length=20, choices=[("sensor", "Sensor Reading"), ("manual", "Manual Entry"), ("estimated", "Estimated")]): Source of temperature data.  
  - `calculation_method` (CharField, max_length=30, choices=[("simple", "Simple Average"), ("weighted", "Weighted Average"), ("hourly", "Hourly Integration")]): Calculation method used.  
  - `calculated_by` (FK, nullable): Link to `auth_user` if manually calculated.  
  - `notes` (TextField, blank=True): Calculation notes.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.

**Maintenance and Container Management Models**

The maintenance and container management models provide comprehensive support for facility management and operational efficiency.

- **MaintenanceTask** (Enhanced Maintenance Tracking)  
  - `task_id` (PK, AutoField): Unique identifier for the maintenance task.  
  - `container_id` (FK): Link to `infrastructure_container`.  
  - `task_type` (CharField, max_length=50, choices=[("cleaning", "Cleaning"), ("disinfection", "Disinfection"), ("repair", "Repair"), ("inspection", "Inspection"), ("calibration", "Equipment Calibration"), ("replacement", "Component Replacement"), ("upgrade", "Equipment Upgrade"), ("preventive", "Preventive Maintenance")]): Type of maintenance task.  
  - `task_priority` (CharField, max_length=20, choices=[("low", "Low"), ("normal", "Normal"), ("high", "High"), ("urgent", "Urgent"), ("emergency", "Emergency")]): Task priority level.  
  - `scheduled_date` (DateField): Planned execution date.  
  - `scheduled_time` (TimeField, nullable): Planned execution time.  
  - `estimated_duration_minutes` (PositiveIntegerField, nullable): Estimated duration in minutes.  
  - `actual_start_date` (DateField, nullable): Actual start date.  
  - `actual_start_time` (TimeField, nullable): Actual start time.  
  - `actual_end_date` (DateField, nullable): Actual completion date.  
  - `actual_end_time` (TimeField, nullable): Actual completion time.  
  - `actual_duration_minutes` (PositiveIntegerField, nullable): Actual duration in minutes.  
  - `task_status` (CharField, max_length=20, choices=[("scheduled", "Scheduled"), ("in_progress", "In Progress"), ("completed", "Completed"), ("cancelled", "Cancelled"), ("deferred", "Deferred")]): Current task status.  
  - `assigned_to` (FK): Link to `auth_user` assigned to perform the task.  
  - `performed_by` (FK, nullable): Link to `auth_user` who actually performed the task.  
  - `supervised_by` (FK, nullable): Link to `auth_user` who supervised the task.  
  - `materials_used` (TextField, blank=True): Materials and supplies used.  
  - `equipment_used` (TextField, blank=True): Equipment used for the task.  
  - `pre_task_condition` (CharField, max_length=20, choices=[("excellent", "Excellent"), ("good", "Good"), ("fair", "Fair"), ("poor", "Poor"), ("critical", "Critical")]): Condition before maintenance.  
  - `post_task_condition` (CharField, max_length=20, choices=[("excellent", "Excellent"), ("good", "Good"), ("fair", "Fair"), ("poor", "Poor"), ("critical", "Critical")]): Condition after maintenance.  
  - `issues_found` (TextField, blank=True): Issues discovered during maintenance.  
  - `corrective_actions` (TextField, blank=True): Corrective actions taken.  
  - `follow_up_required` (BooleanField, default=False): Whether follow-up is required.  
  - `next_maintenance_due` (DateField, nullable): Date for next maintenance.  
  - `cost_labor` (DecimalField, max_digits=8, decimal_places=2, nullable): Labor cost.  
  - `cost_materials` (DecimalField, max_digits=8, decimal_places=2, nullable): Materials cost.  
  - `cost_total` (DecimalField, max_digits=8, decimal_places=2, nullable): Total maintenance cost.  
  - `task_notes` (TextField, blank=True): Detailed task notes.  
  - `created_by` (FK): Link to `auth_user` who created the task.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

**Traceability and Lineage Models**

The traceability and lineage models ensure complete tracking from broodstock through harvest with regulatory compliance and audit trail maintenance.

- **BatchParentage** (Enhanced Lineage Tracking)  
  - `parentage_id` (PK, AutoField): Unique identifier for the parentage record.  
  - `batch_id` (FK): Link to `batch_batch`.  
  - `egg_production_id` (FK): Link to `EggProduction`.  
  - `parentage_type` (CharField, max_length=20, choices=[("full", "Full Parentage"), ("partial", "Partial Parentage"), ("mixed", "Mixed Sources"), ("unknown", "Unknown")]): Type of parentage relationship.  
  - `contribution_percentage` (DecimalField, max_digits=5, decimal_places=2, default=100.00): Percentage contribution to batch.  
  - `assignment_date` (DateField): Date eggs were assigned to batch.  
  - `hatching_success_rate` (DecimalField, max_digits=5, decimal_places=2, nullable): Hatching success rate for this contribution.  
  - `survival_to_first_feeding` (DecimalField, max_digits=5, decimal_places=2, nullable): Survival rate to first feeding.  
  - `genetic_verification_status` (CharField, max_length=20, choices=[("not_required", "Not Required"), ("pending", "Pending"), ("verified", "Verified"), ("failed", "Failed")]): Genetic verification status.  
  - `genetic_verification_date` (DateField, nullable): Date of genetic verification.  
  - `genetic_verification_method` (CharField, max_length=30, nullable): Method used for genetic verification.  
  - `verified_by` (FK, nullable): Link to `auth_user` who verified parentage.  
  - `verification_notes` (TextField, blank=True): Verification notes.  
  - `created_by` (FK): Link to `auth_user` who created the record.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.  
  - `updated_at` (DateTimeField, auto_now=True): Last modification timestamp.

- **LineageAuditLog** (Comprehensive Audit Tracking)  
  - `audit_id` (PK, AutoField): Unique identifier for the audit entry.  
  - `record_type` (CharField, max_length=30, choices=[("fish", "Broodstock Fish"), ("spawning", "Spawning Event"), ("egg_production", "Egg Production"), ("nursery_event", "Nursery Event"), ("batch_parentage", "Batch Parentage"), ("movement", "Fish Movement")]): Type of record being audited.  
  - `record_id` (PositiveIntegerField): ID of the record being audited.  
  - `action_type` (CharField, max_length=20, choices=[("create", "Create"), ("update", "Update"), ("delete", "Delete"), ("transfer", "Transfer"), ("status_change", "Status Change")]): Type of action performed.  
  - `action_date` (DateTimeField): Date and time of action.  
  - `performed_by` (FK): Link to `auth_user` who performed the action.  
  - `field_changes` (TextField, nullable): JSON representation of field changes.  
  - `previous_values` (TextField, nullable): Previous values before change.  
  - `new_values` (TextField, nullable): New values after change.  
  - `reason_code` (CharField, max_length=30, nullable): Reason code for the change.  
  - `reason_description` (TextField, nullable): Detailed reason for the change.  
  - `ip_address` (GenericIPAddressField, nullable): IP address of the user.  
  - `user_agent` (TextField, nullable): User agent string.  
  - `session_id` (CharField, max_length=50, nullable): Session identifier.  
  - `data_integrity_hash` (CharField, max_length=64, nullable): Hash for data integrity verification.  
  - `created_at` (DateTimeField, auto_now_add=True): Record creation timestamp.

**Relationships and Constraints**

The enhanced data model implements comprehensive relationships and constraints to ensure data integrity and operational consistency:

**Primary Relationships:**
- `infrastructure_container` to `BroodstockFish`: One-to-many relationship supporting multiple fish per container with automatic population tracking.
- `infrastructure_container` to `infrastructure_container`: Self-referencing relationship enabling nested container hierarchies with validation to prevent circular references.
- `BreedingProgram` to `BreedingPlan`: One-to-many relationship supporting multiple plans per program with temporal validation.
- `BreedingPlan` to `BreedingPair`: One-to-many relationship with genetic compatibility validation and inbreeding coefficient checking.
- `BreedingPair` to `SpawningEvent`: One-to-many relationship supporting multiple spawning attempts per pair.
- `SpawningEvent` to `EggProduction`: One-to-many relationship supporting batch splitting and quality tracking.
- `EggProduction` to `NurseryEvent`: One-to-many relationship tracking all operational events for each egg batch.
- `EggProduction` to `HatchingProgress`: One-to-many relationship supporting detailed hatching monitoring.
- `EggProduction` to `BatchParentage`: One-to-many relationship enabling complete lineage tracking to harvest.

**Enhanced Constraints:**
- Unique constraints on critical identifiers including `fish_code`, `pit_tag_number`, `egg_batch_code`, and `spawning_code`.
- Check constraints ensuring logical data relationships such as `actual_end_date >= actual_start_date` and `hatching_percentage <= 100.00`.
- Foreign key constraints with appropriate cascade behaviors to maintain referential integrity during deletions and updates.
- Validation constraints ensuring enumerated field values are within acceptable ranges and combinations.
- Temporal constraints preventing illogical date relationships and ensuring proper sequencing of operational events.

**Database Performance Optimizations:**

**Strategic Indexing:**
- Composite indexes on frequently queried field combinations including `(container_id, event_date)` for nursery events and `(fish_id, movement_date)` for fish movements.
- Partial indexes on active records using `WHERE is_active = TRUE` to optimize queries on current operational data.
- Full-text search indexes on notes and description fields to support comprehensive search capabilities.
- Temporal indexes optimized for TimescaleDB integration supporting efficient time-series queries on environmental and operational data.

**Query Optimization Strategies:**
- Materialized views for complex reporting queries including family tree generation and performance analytics.
- Denormalized summary tables for frequently accessed aggregations such as container occupancy and survival rates.
- Partitioning strategies for high-volume tables including `NurseryEvent` and `LineageAuditLog` based on date ranges.
- Connection pooling and query caching configurations optimized for concurrent operational access patterns.

**Data Integrity and Security Measures:**

**Audit and Compliance:**
- Comprehensive audit logging using django-auditlog for all critical operational models with immutable record preservation.
- Data integrity verification through cryptographic hashing of critical records with tamper detection capabilities.
- Regulatory compliance features including automated documentation generation and export capabilities for inspection and certification processes.
- Role-based access controls with field-level permissions ensuring appropriate data access based on user roles and operational responsibilities.

**Backup and Recovery:**
- Automated backup procedures with point-in-time recovery capabilities for critical operational data.
- Data replication strategies ensuring high availability and disaster recovery capabilities.
- Version control for schema changes with rollback capabilities and migration validation procedures.
- Data retention policies compliant with regulatory requirements while optimizing storage utilization.

**Integration Considerations:**

**External System Integration:**
- API endpoints designed for integration with genetic analysis systems including SNP panel data import and genomic prediction integration.
- Export capabilities supporting multiple formats including Excel, CSV, and XML for regulatory submission and external analysis requirements.
- Import validation procedures ensuring data quality and consistency when integrating external data sources.
- Synchronization protocols for mobile applications with conflict resolution and offline operation support.

**Scalability and Performance:**
- Database design supporting thousands of individual fish, containers, and operational events with optimized query performance.
- Horizontal scaling capabilities through database sharding strategies for high-volume operational environments.
- Caching strategies for frequently accessed data including container status, fish locations, and environmental parameters.
- Load balancing configurations supporting concurrent access from multiple operational teams and mobile applications.

This enhanced data model provides a comprehensive foundation for broodstock management operations while addressing the specific requirements identified in the gap analyses. The transition from JSON-based storage to structured columns provides significant improvements in query performance, data validation, and reporting capabilities while maintaining the flexibility required for diverse operational scenarios. The model integrates seamlessly with existing AquaMind infrastructure while providing the specialized functionality required for comprehensive broodstock operations management.

